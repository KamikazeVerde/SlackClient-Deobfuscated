/*    */ package cc.slack.features.modules.impl.exploit.disablers.verus;
/*    */ 
/*    */ import cc.slack.events.impl.network.PacketEvent;
/*    */ import cc.slack.events.impl.player.UpdateEvent;
/*    */ import cc.slack.features.modules.impl.exploit.disablers.IDisabler;
/*    */ import cc.slack.utils.client.mc;
/*    */ import cc.slack.utils.network.PacketUtil;
/*    */ import net.minecraft.network.Packet;
/*    */ import net.minecraft.network.play.client.C00PacketKeepAlive;
/*    */ import net.minecraft.network.play.client.C0FPacketConfirmTransaction;
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ public class VerusReachDisabler
/*    */   implements IDisabler
/*    */ {
/* 18 */   int transactions = 0;
/* 19 */   short newTransaction = 0;
/*    */ 
/*    */   
/*    */   public void onEnable() {
/* 23 */     this.transactions = 0;
/* 24 */     this.newTransaction = 0;
/*    */   }
/*    */ 
/*    */   
/*    */   public void onUpdate(UpdateEvent event) {
/* 29 */     if ((mc.getPlayer()).ticksExisted % 600 == 0) {
/* 30 */       PacketUtil.send((Packet)new C00PacketKeepAlive());
/*    */     }
/*    */   }
/*    */ 
/*    */   
/*    */   public void onPacket(PacketEvent event) {
/* 36 */     Packet packet = event.getPacket();
/* 37 */     if (packet instanceof C00PacketKeepAlive) {
/* 38 */       event.cancel();
/*    */     }
/* 40 */     if (packet instanceof C0FPacketConfirmTransaction) {
/* 41 */       this.transactions++;
/* 42 */       if (this.transactions <= 1) {
/* 43 */         this.newTransaction = ((C0FPacketConfirmTransaction)packet).getUid();
/*    */       }
/* 45 */       ((C0FPacketConfirmTransaction)packet).uid = this.newTransaction;
/*    */     } 
/*    */     
/* 48 */     if (packet instanceof net.minecraft.network.play.server.S37PacketStatistics) {
/* 49 */       this.transactions = 0;
/*    */     }
/*    */   }
/*    */ 
/*    */   
/*    */   public String toString() {
/* 55 */     return "Verus Reach";
/*    */   }
/*    */ }


/* Location:              C:\Users\andre\Downloads\Slack.jar!\cc\slack\features\modules\impl\exploit\disablers\verus\VerusReachDisabler.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.1.3
 */