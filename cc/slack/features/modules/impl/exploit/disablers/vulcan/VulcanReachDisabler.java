/*    */ package cc.slack.features.modules.impl.exploit.disablers.vulcan;
/*    */ 
/*    */ import cc.slack.events.impl.network.PacketEvent;
/*    */ import cc.slack.events.impl.player.UpdateEvent;
/*    */ import cc.slack.events.impl.player.WorldEvent;
/*    */ import cc.slack.features.modules.impl.exploit.disablers.IDisabler;
/*    */ import cc.slack.utils.client.mc;
/*    */ import cc.slack.utils.other.PrintUtil;
/*    */ import io.github.nevalackin.radbus.Listen;
/*    */ import java.util.LinkedList;
/*    */ import java.util.Queue;
/*    */ import net.minecraft.network.Packet;
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ public class VulcanReachDisabler
/*    */   implements IDisabler
/*    */ {
/* 21 */   int ticks = 0;
/*    */   
/*    */   boolean shouldSend = false;
/* 24 */   Queue<Packet> packets = new LinkedList<>();
/*    */ 
/*    */   
/*    */   public void onDisable() {
/* 28 */     (mc.getNetHandler().getNetworkManager()).channel.writeAndFlush(this.packets);
/* 29 */     this.packets.clear();
/*    */   }
/*    */   
/*    */   @Listen
/*    */   public void onWorld(WorldEvent event) {
/* 34 */     PrintUtil.print("XD");
/* 35 */     this.packets.clear();
/* 36 */     this.ticks = 0;
/*    */   }
/*    */   
/*    */   @Listen
/*    */   public void onUpdate(UpdateEvent event) {
/* 41 */     if (this.ticks <= 100) {
/* 42 */       this.ticks++;
/*    */     }
/*    */   }
/*    */   
/*    */   @Listen
/*    */   public void onPacket(PacketEvent event) {
/* 48 */     Packet packet = event.getPacket();
/* 49 */     if (this.ticks > 100 && 
/* 50 */       (mc.getPlayer()).ticksExisted % 60 == 0) {
/* 51 */       if (mc.getCurrentScreen() == null) {
/* 52 */         if (packet instanceof net.minecraft.network.play.client.C00PacketKeepAlive || packet instanceof net.minecraft.network.play.client.C0FPacketConfirmTransaction) {
/* 53 */           event.cancel();
/* 54 */           this.packets.add(packet);
/* 55 */           this.shouldSend = true;
/*    */         } 
/*    */       } else {
/* 58 */         this.packets.clear();
/*    */       } 
/*    */     }
/*    */     
/* 62 */     if ((mc.getPlayer()).ticksExisted % 20 == 0 && this.shouldSend) {
/* 63 */       (mc.getNetHandler().getNetworkManager()).channel.writeAndFlush(this.packets);
/* 64 */       this.shouldSend = false;
/*    */     } 
/*    */   }
/*    */ 
/*    */   
/*    */   public String toString() {
/* 70 */     return "Vulcan Reach";
/*    */   }
/*    */ }


/* Location:              C:\Users\andre\Downloads\Slack.jar!\cc\slack\features\modules\impl\exploit\disablers\vulcan\VulcanReachDisabler.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.1.3
 */